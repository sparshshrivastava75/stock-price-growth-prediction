# -*- coding: utf-8 -*-
"""stock_candle.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1xzueRaQHfnyqJaLErC9J5QCPIqCJfD1M
"""

pip install mplfinance

# Commented out IPython magic to ensure Python compatibility.
import matplotlib
import matplotlib.pyplot as plt
from matplotlib.widgets import Cursor
import pandas_datareader as web
import mplfinance as mpf
import datetime as dt
import pandas as pd
import plotly.graph_objects as go
import numpy as np
# %matplotlib inline

file = '/content/NYKAA.NS.csv'
#df = pd.read_csv('tesla.csv')
data = pd.read_csv(file)
data.info()
data.columns
data.Date = pd.to_datetime(data.Date)
data.info()
data = data.set_index(pd.DatetimeIndex(data['Date'].values))
data

#figure = go.Figure(
 #   data = [
  #      go.Candlestick(
   #     x = data.index,
    #    low = data['Low'],
     #   high = data['High'],
      #  open = data['Open'],
       # increasing_line_color = 'green',
        #decreasing_line_color = 'red'

  #      )
   #     ]
    #)

#figure.show()

mpf.plot(data)
mpf.plot(data,type='line',volume=True)
#mpf.plot(data[2000:2023],type='candle',mav=(20),volume=True,tight_layout=True)

#mpf.plot(data[:],type ='line',volume='True')

mpf.plot(data[:],figratio=(30,12),
         type='candle',
         mav=(20),volume=True,title='Cipla price', tight_layout=True,style = 'yahoo')